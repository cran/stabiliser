<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Installation</title>

<script type="text/javascript">
window.onload = function() {
  var imgs = document.getElementsByTagName('img'), i, img;
  for (i = 0; i < imgs.length; i++) {
    img = imgs[i];
    // center an image if it is the only element of its parent
    if (img.parentElement.childElementCount === 1)
      img.parentElement.style.textAlign = 'center';
  }
};
</script>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: #990073
   }

   pre .number {
     color: #099;
   }

   pre .comment {
     color: #998;
     font-style: italic
   }

   pre .keyword {
     color: #900;
     font-weight: bold
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: #d14;
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>



<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 13px;
}

body {
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 20px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 {
   font-size:2.2em;
}

h2 {
   font-size:1.8em;
}

h3 {
   font-size:1.4em;
}

h4 {
   font-size:1.0em;
}

h5 {
   font-size:0.9em;
}

h6 {
   font-size:0.8em;
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre, img {
  max-width: 100%;
}
pre {
  overflow-x: auto;
}
pre code {
   display: block; padding: 0.5em;
}

code {
  font-size: 92%;
  border: 1px solid #ccc;
}

code[class] {
  background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * {
      background: transparent !important;
      color: black !important;
      filter:none !important;
      -ms-filter: none !important;
   }

   body {
      font-size:12pt;
      max-width:100%;
   }

   a, a:visited {
      text-decoration: underline;
   }

   hr {
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote {
      padding-right: 1em;
      page-break-inside: avoid;
   }

   tr, img {
      page-break-inside: avoid;
   }

   img {
      max-width: 100% !important;
   }

   @page :left {
      margin: 15mm 20mm 15mm 10mm;
   }

   @page :right {
      margin: 15mm 10mm 15mm 20mm;
   }

   p, h2, h3 {
      orphans: 3; widows: 3;
   }

   h2, h3 {
      page-break-after: avoid;
   }
}
</style>



</head>

<body>
<p>The goal of the stabiliser package is to provide a flexible method of applying stability selection (Meinshausen and Buhlmann, 2010) with various model types, and the framework for triangulating the results for multiple models (Lima et al., 2021). </p>

<ul>
<li><code>stabilise()</code> performs stability selection on a range of models to identify causal models.</li>
<li><code>triangulate()</code> identifies which variables are most likely to be causal across all models. </li>
<li><code>stab_plot()</code> allows visualisation of either <code>stabilise()</code> or <code>triangulate()</code> outputs. </li>
</ul>

<h2>Installation</h2>

<p>You can install this package from github using the devtools package as follows:</p>

<pre><code class="r">install.packages(&quot;stabiliser&quot;)
</code></pre>

<p>Or to get the most recent development version:</p>

<pre><code class="r">devtools::install_github(&quot;roberthyde/stabiliser&quot;)
</code></pre>

<h2>Usage</h2>

<p>The stabiliser_example dataset is a simulated example with the following properties:</p>

<ul>
<li>1 simulated outcome variable: <code>y</code></li>
<li>4 variables simulated to be associated with <code>y</code>: <code>causal1</code>, <code>causal2</code>&hellip; </li>
<li>95 variables simulated to have no association with <code>y</code>: <code>junk1</code>, <code>junk2</code>&hellip;</li>
</ul>

<pre><code class="r">library(stabiliser)
#&gt; Registered S3 methods overwritten by &#39;expss&#39;:
#&gt;   method                 from 
#&gt;   [.labelled             Hmisc
#&gt;   as.data.frame.labelled base 
#&gt;   print.labelled         Hmisc
data(&quot;stabiliser_example&quot;)
</code></pre>

<h3><code>stabilise()</code></h3>

<p>To attempt to identify which variables are truly &ldquo;causal&rdquo; in this dataset using a selection stability approach, use the <code>stabilise()</code> function as follows:</p>

<pre><code class="r">set.seed(8141)
stable_enet &lt;- stabilise(data = stabiliser_example,
                         outcome = &quot;y&quot;)
#&gt; Recipe
#&gt; 
#&gt; Inputs:
#&gt; 
#&gt;       role #variables
#&gt;    outcome          1
#&gt;  predictor         99
#&gt; 
#&gt; Operations:
#&gt; 
#&gt; Centering and scaling for all_numeric_predictors()
#&gt; Dummy variables from all_nominal_predictors()
#&gt; K-nearest neighbor imputation for all_predictors()
</code></pre>

<p>Access the stability (percentage of 100 bootstrap resamples where a given variable was selected by a given model) results for elastic net as follows:</p>

<pre><code class="r">stable_enet$enet$stability
#&gt; # A tibble: 99 x 7
#&gt;    variable mean_coefficient ci_lower ci_upper bootstrap_p stability stable
#&gt;    &lt;chr&gt;               &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt; 
#&gt;  1 causal1              2.79   0.223      5.92           0      84   *     
#&gt;  2 causal2              2.90   0.393      6.59           0      75   &lt;NA&gt;  
#&gt;  3 causal3              2.27   0.308      5.27           0      75   &lt;NA&gt;  
#&gt;  4 junk14               2.53   0.219      6.75           0      67   &lt;NA&gt;  
#&gt;  5 junk88               2.50   0.156      5.19           0      62.5 &lt;NA&gt;  
#&gt;  6 junk86               1.51   0.0164     4.32           0      60   &lt;NA&gt;  
#&gt;  7 junk13               2.27   0.214      5.34           0      59.5 &lt;NA&gt;  
#&gt;  8 junk45               2.02   0.110      5.48           0      59.5 &lt;NA&gt;  
#&gt;  9 junk90               1.74   0.0673     5.60           0      47.5 &lt;NA&gt;  
#&gt; 10 junk26               1.67   0.0564     5.22           0      43   &lt;NA&gt;  
#&gt; # ... with 89 more rows
</code></pre>

<p>This ranks the variables by stability, and displays the mean coefficients, 95% confidence interval and bootstrap p-value. It also displays whether the variable is deemed &ldquo;stable&rdquo;, in this case 2 out of the 4 truly causal variables are identified as &ldquo;stable&rdquo;, with no false positives. </p>

<p>By default, this implements an elastic net algorithm over 100 bootstrap resamples of the dataset. Stability of each variable is then calculated as the proportion of bootstrap repeats where that variable is selected in the model. </p>

<p><code>stabilise()</code> also permutes the outcome several times (5 by default) and performs the same process on each permuted dataset (20 bootstrap resamples for each by default).</p>

<p>This allows a permutation threshold to be calculated. Variables with a non-permuted stability % above this threshold are deemed &ldquo;stable&rdquo; as they were selected in a higher proportion of bootstrap resamples than in the permuted datasets, where we know there is no association between variables and the outcome.  </p>

<p>The permutation threshold is available as follows: </p>

<pre><code class="r">stable_enet$enet$perm_thresh
#&gt; [1] 81
</code></pre>

<h3><code>triangulate()</code></h3>

<p>Our confidence that a given variable is truly associated with a given outcome might be increased if it is identified in multiple model types. </p>

<p>Specify multiple model types (elastic net, mbic and mcp) for comparison using the <code>stabilise()</code> function as follows:</p>

<pre><code class="r">set.seed(8141)
stable_combi &lt;- stabilise(data = stabiliser_example,
                         outcome = &quot;y&quot;,
                         models = c(&quot;enet&quot;,
                                    &quot;mbic&quot;,
                                    &quot;mcp&quot;))
#&gt; Recipe
#&gt; 
#&gt; Inputs:
#&gt; 
#&gt;       role #variables
#&gt;    outcome          1
#&gt;  predictor         99
#&gt; 
#&gt; Operations:
#&gt; 
#&gt; Centering and scaling for all_numeric_predictors()
#&gt; Dummy variables from all_nominal_predictors()
#&gt; K-nearest neighbor imputation for all_predictors()
</code></pre>

<p>The stability of variables is available for all model types as before. </p>

<p>The stability results from these three models stored within <code>stable_combi</code> can be combined using <code>triangulate</code> as follows:</p>

<pre><code class="r">triangulated &lt;- triangulate(stable_combi)
triangulated
#&gt; $combi
#&gt; $combi$stability
#&gt; # A tibble: 99 x 4
#&gt;    variable stability bootstrap_p stable
#&gt;    &lt;chr&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt; 
#&gt;  1 causal1       56.3     0       *     
#&gt;  2 causal2       45.2     0       &lt;NA&gt;  
#&gt;  3 causal3       42.8     0.00877 &lt;NA&gt;  
#&gt;  4 junk88        41.5     0       &lt;NA&gt;  
#&gt;  5 junk14        36       0.00556 &lt;NA&gt;  
#&gt;  6 junk13        32.2     0       &lt;NA&gt;  
#&gt;  7 junk86        28.8     0.00741 &lt;NA&gt;  
#&gt;  8 junk45        24.8     0       &lt;NA&gt;  
#&gt;  9 junk90        21.2     0       &lt;NA&gt;  
#&gt; 10 junk65        19.5     0       &lt;NA&gt;  
#&gt; # ... with 89 more rows
#&gt; 
#&gt; $combi$perm_thresh
#&gt; [1] 51
</code></pre>

<p>This shows variables consistently being identified as being stable across multiple model types, and consequently increasing our confidence that they are truly associated with the outcome. </p>

<p>Triangulating the results for stability selection across multiple model types generally provides better performance at identifying truly causal variables than single model approaches (Lima et al., 2021). As shown in this example, the triangulated approach identifies 3 out of the 4 truly causal variables as being &ldquo;stable&rdquo;, and being highly likely to be associated with the outcome <code>y</code>, in contrast to the 2 variables identified when using elastic net alone.</p>

<h3><code>stab_plot()</code></h3>

<p>Both <code>stabilise()</code> and <code>triangulate()</code> outputs can be plotted using <code>stab_plot()</code> as follows, with causal and junk variables highlighted for this example: </p>

<pre><code class="r">stab_plot(stabiliser_object = triangulated)
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk stab_plot"/></p>

<h2>References</h2>

<p>Lima, E., Hyde, R., Green, M., 2021. Model selection for inferential models with high dimensional data: synthesis and graphical representation of multiple techniques. Sci. Rep. 11, 412. <a href="https://doi.org/10.1038/s41598-020-79317-8">https://doi.org/10.1038/s41598-020-79317-8</a></p>

<p>Meinshausen, N., Buhlmann, P., 2010. Stability selection. J. R. Stat. Soc. Ser. B (Statistical Methodol. 72, 417–473. <a href="https://doi.org/10.1111/j.1467-9868.2010.00740.x">https://doi.org/10.1111/j.1467-9868.2010.00740.x</a></p>

</body>

</html>
